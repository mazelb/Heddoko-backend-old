
<!-- Copyright Heddoko(TM) 2015, all rights reserved. -->

<div class="page">
    <header>
        <h1>
            Movement Test <i class="fa fa-pencil-square-o"></i>
            <span></span>
        </h1>

        <!-- Append profile name to page title -->
        <div ng-show="screeningProfile.id === 0" class="h1-append">
            for
            <a ng-click="global.store.profileId = 0" href="javascript:;">
                {{ global.getSelectedProfile().firstName }}
                {{ global.getSelectedProfile().lastName }}
                <i class="fa fa-refresh"></i>
            </a>
        </div>
        <div ng-show="screeningProfile.id > 0" class="h1-append">
            {{ screeningProfile.firstName + ' ' + screeningProfile.lastName }}
        </div>
    </header>

    <!-- Test progress -->
    <div ng-show="screening.id > 0 && global.data.isFetchingScreeningData === false">

        <h2 class="text-center">
            {{ screening.title }}

            <br>
            <small>
                {{ screening.createdAt | mysqlDate:'d / M / yyyy' }}
            </small>
        </h2>


        <div ng-repeat="movement in screening.movements" class="row">
            <div class="col-md-4 col-md-offset-4">
                {{ $index + 1 }} {{ movement.title }} <i class="fa fa-plus"></i>
            </div>
        </div>
    </div>

    <!-- Select a test template -->
    <div ng-show="screening.id === 0 && global.data.isFetchingScreeningData === false">

        <!-- Temporary listing -->
        <div
            ng-show="global.getSelectedProfile().id > 0
                && global.data.isPreparingNewScreening === false"
            class="col-md-4 col-md-offset-4 text-center">

            Start by selecting a test template
            <br>
            <br>

            <a ng-click="createFunctionalMovementScreening()" href="javascript:;">
                Functional Movement Test
            </a>
            <br>

            <a href="javascript:;">
                <i class="fa fa-plus fa-fw"></i> Create a Custom Movement Test
            </a>
        </div>

        <!-- Select a profile -->
        <div
            ng-show="global.getSelectedProfile().id === 0
                && global.data.isPreparingNewScreening === false">

            <div ng-include="'partials/select-profile.html'"></div>
        </div>

        <!-- Preparing screening records -->
        <div ng-show="global.data.isPreparingNewScreening === true">

            <br>
            <h2 class="text-center">
                Preparing Your Test
            </h2>

            <br>
            <br>
            <div class="text-center">
                <i class="fa fa-spinner fa-spin fa-2x"></i>
            </div>
        </div>
    </div>

    <!-- Loading screening data -->
    <div ng-show="global.data.isFetchingScreeningData === true">
        <div class="text-center" style="margin: 60px auto">
            <i class="fa fa-spinner fa-spin fa-2x"></i>
        </div>
    </div>
</div>


<!-- User details -->
<div class="page">
    <ui-page-title data-title="'Account'" data-icon="'cogs'"></ui-page-title>

    <div ng-hide="user.id === 0" class="row">
        <div class="col-md-8">

            <!-- User details -->
            <ui-editable-fields
                data-model="user"
                data-save="saveUserDetails"
                data-save-callback="saveUserDetailsCallback"
                data-heading="Your Details">

                <!-- Username -->
                <ui-editable-field
                    data-label="Username"
                    data-key="username"
                    data-disabled="true">
                </ui-editable-field>

                <!-- First name -->
                <ui-editable-field
                    data-label="First Name"
                    data-key="firstName"
                    data-required="true">
                </ui-editable-field>

                <!-- Last name -->
                <ui-editable-field
                    data-label="Last Name"
                    data-key="lastName">
                </ui-editable-field>

                <!-- Phone -->
                <ui-editable-field
                    data-label="Phone #"
                    data-key="phone">
                </ui-editable-field>

                <!-- Email -->
                <ui-editable-field
                    data-label="Email"
                    data-key="email"
                    data-required="true">
                </ui-editable-field>

            </ui-editable-fields>
        </div>

        <!-- Avatar -->
        <div class="col-md-4">
            <div class="text-center" style="margin: 5% 20%; width: 60%;">
                <ui-avatar
                    data-upload-endpoint="uploadAvatarEndpoint"
                    data-success-callback="uploadAvatarCallback"
                    data-src="user.avatarSrc">
                </ui-avatar>
            </div>
        </div>
    </div>

    <!-- Retrieving user data -->
    <div ng-show="user.id === 0" class="text-center">
        <h3>Retrieving your details</h3>
        <br>
        <br>
        <br>
        <br>
        <i class="fa fa-spinner fa-spin fa-3x"></i>
    </div>

    <!-- Debug -->
    <div ng-show="global.isLocal" class="panel panel-default">
        <div class="panel-heading">Debug</div>
        <div class="panel-body">
            Avatar: {{ user.avatarSrc ? 'Yes' : 'No' }} <br>
        </div>
    </div>
</div>

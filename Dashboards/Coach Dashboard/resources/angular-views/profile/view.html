
<!-- Copyright Heddoko(TM) 2015, all rights reserved. -->

<div ng-hide="profile.id === 0" class="page profile-page">
    <header>
        <h1>
            {{ profile.firstName }} {{ profile.lastName }}
            <span></span>
        </h1>
    </header>

    <section ng-show="profile.id > 0">
    	<div class="row">

    		<div class="col-xs-12 col-md-5 col-lg-3">

                <!-- Avatar -->
                <div class="text-center">
                    <ui-avatar
                        data-upload-endpoint="uploadAvatarEndpoint"
                        data-success-callback="uploadAvatarCallback"
                        data-src="profile.avatarSrc">
                    </ui-avatar>
                </div>

                <!-- Profile shortcuts -->
                <div class="text-center profile-shortcuts">

                    <!-- Delete group button -->
                    <a
                        ng-show="profile.id > 0"
                        data-toggle="modal"
                        data-target="#deleteProfileConfirmation"
                        href="javascript:;"
                        class="sub-header-btn">

                        <button class="btn btn-danger btn-circle btn-lg">
                            <i class="fa fa-trash"></i>
                        </button>
                    </a>

                    <!-- Delete confirmation -->
                    <div class="modal fade" id="deleteProfileConfirmation">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-body">
                                    <p>
                                        Are you sure you want to delete <b>{{ profile.firstName }}
                                        {{ profile.lastName }}</b>'s profile?
                                    </p>
                                </div>
                                <div class="modal-footer text-center">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                        Cancel
                                    </button>
                                    <button ng-click="deleteProfile()" type="button" class="btn btn-primary" data-dismiss="modal">
                                        Yes, delete {{ profile.firstName }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    		</div>

            <!-- Profile details -->
            <div class="col-xs-12 col-md-7 col-lg-5">
                <ui-editable-fields
                    data-id="profileDetails"
                    data-model="profile"
                    data-save="saveProfileDetails"
                    data-save-callback="saveProfileDetailsCallback"
                    data-heading="Details">

                    <div class="row">

                        <!-- First name -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="First Name"
                                data-key="firstName"
                                data-required="true">
                            </ui-editable-field>
                        </div>

                        <!-- Last name -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Last Name"
                                data-key="lastName">
                            </ui-editable-field>
                        </div>
                    </div>

                    <div class="row">

                        <!-- Height -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Height"
                                data-key="height"
                                data-type="length">
                            </ui-editable-field>
                        </div>

                        <!-- Weight -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Weight"
                                data-key="mass"
                                data-type="mass">
                            </ui-editable-field>
                        </div>
                    </div>

                    <div class="row">

                        <!-- Date of Birth -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Date of Birth"
                                data-key="dob"
                                data-type="date">
                            </ui-editable-field>
                        </div>

                        <!-- Gender -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Gender"
                                data-key="gender"
                                data-type="gender">
                            </ui-editable-field>
                        </div>
                    </div>

                    <div class="row">

                        <!-- Phone -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Phone #"
                                data-key="phone">
                            </ui-editable-field>
                        </div>

                        <!-- Email -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Email"
                                data-key="email">
                            </ui-editable-field>
                        </div>
                    </div>

                    <div class="row">

                        <!-- Primary Tag -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Primary Sport"
                                data-key="primaryTag"
                                data-type="tag">
                            </ui-editable-field>
                        </div>

                        <!-- Secondary tags -->
                        <div class="col-xs-12 col-sm-6">
                            <ui-editable-field
                                data-label="Other Sports"
                                data-key="secondaryTags"
                                data-type="tag"
                                data-max-tags="10">
                            </ui-editable-field>
                        </div>
                    </div>

                    <!-- Profile creation date -->
                    <div class="row">
                        <div class="col-xs-12">
                            <ui-editable-field
                                data-label="Profile Created"
                                data-key="createdAt"
                                data-type="datetime"
                                data-disabled="true">
                            </ui-editable-field>
                        </div>
                    </div>
                </ui-editable-fields>
            </div>

            <!-- General notes -->
            <div class="col-xs-12 col-lg-4">
        		<div class="col-xs-12">
                    <ui-editable-standalone-field
                        data-heading="Medical Information"
                        data-model="profile"
                        data-key="medicalHistory"
                        data-empty="No medical information provided."
                        data-save="saveProfileDetails"
                        data-save-callback="saveProfileDetailsCallback">
                    </ui-editable-standalone-field>
                </div>

                <div class="col-xs-12">
                    <ui-editable-standalone-field
                        data-heading="Previous Injuries"
                        data-model="profile"
                        data-key="injuries"
                        data-empty="No previous injuries."
                        data-save="saveProfileDetails"
                        data-save-callback="saveProfileDetailsCallback">
                    </ui-editable-standalone-field>
                </div>

                <div class="col-xs-12">
                    <ui-editable-standalone-field
                        data-heading="Other Notes"
                        data-model="profile"
                        data-key="notes"
                        data-empty="No other notes."
                        data-save="saveProfileDetails"
                        data-save-callback="saveProfileDetailsCallback">
                    </ui-editable-standalone-field>
        		</div>
        	</div>
        </div>

        <div class="row text-center">
            <a href="javascript:;">
                <i class="fa fa-angle-double-down fa-5x"></i>
            </a>
        </div>

        <!-- Trends demo -->
        <div ng-controller="DemoTrendsController" id="trendsDemo">
            <ng-include src="'profile/partials/demo.trends.html'"></ng-include>
        </div>
    </section>
</div>

<!-- No profile selected -->
<div ng-show="profile.id === 0" ng-include="'partials/select-profile.html'" class="page"></div>

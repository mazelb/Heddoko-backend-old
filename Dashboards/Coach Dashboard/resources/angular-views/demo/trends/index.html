
<!-- Copyright Heddoko(TM) 2015, all rights reserved. -->

<div class="page">
    <header>
        <h1>
            Rehabilitation <i class="fa fa-medkit"></i>
            <span></span>
        </h1>
    </header>

    <!-- Bar chart -->
    <div class="row demo-trends-section">
        <div class="col-xs-12 col-md-7 col-md-offset-5 col-lg-9 col-lg-offset-3">
            <h3 ng-show="metric" class="text-center">
                {{ metric.title }} / Dec 19 - Feb 6 2016
            </h3>
        </div>

        <div class="col-xs-12 col-md-5 col-lg-3  demo-trends-info-2">

            <!-- Athlete details -->
            <div class="row">
                <div class="col-md-5">
                    <div
                        ng-style="{background: 'transparent center center no-repeat url('+ profile.avatarSrc +')', 'background-size': 'contain'}"
                        class="aspect-ratio aspect-square">
                    </div>
                </div>

                <div class="col-md-7">
                    <small>Date:</small>
                    <b>Feb 6, 2016</b>
                    <br>

                    <small>Rehab Start:</small>
                    <b>Dec 19, 2016</b>
                    <br>

                    <small>Athlete: </small>
                    <b>
                        <a href="#/profile/{{ profile.id }}">
                            {{ profile.firstName + ' ' + profile.lastName }}
                        </a>
                    </b>
                    <br>

                    <small>Team: </small>
                    <b>
                        {{ global.getSelectedGroup().name }}
                    </b>
                    <br>

                    <!-- Metric -->
                    <div ng-show="metric">
                        <selectize
                            ng-model="selectizeMetricModel"
                            class="form-control text-center"
                            config="selectizeMetricConfig"
                            options="selectizeMetricOptions"
                            placeholder="Select a metric.">
                        </selectize>
                    </div>
                </div>
            </div>
            <br>
            <br>

            <!-- Recovery percent -->
            <div ng-show="metric && !isFetchingData" class="row text-center">
                <h3>
                    Percent Recovery
                </h3>

                <div easypiechart options="easypie.options" percent="easypie.percent" class="easypiechart">
                    <span class="pie-percent" ng-bind="easypie.percent"></span>
                </div>
            </div>
            <br>
            <br>

            <!-- Threshold input -->
            <div ng-show="metric && !isFetchingData" class="row">
                <h3 class="text-center">
                    Threshold for Return To Play
                </h3>

                <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">
                    <div class="input-group">

                        <!-- Decrease -->
                        <span class="input-group-btn">
                            <button ng-click="decreaseThreshold()" class="btn btn-default" type="button">
                                <i class="fa fa-minus"></i>
                            </button>
                        </span>

                        <!-- Edit -->
                        <input ng-model="thresholdValue" type="text" class="form-control text-center">

                        <!-- Increase -->
                        <span class="input-group-btn">
                            <button ng-click="increaseThreshold()" class="btn btn-default" type="button">
                                <i class="fa fa-plus"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Peak Elbow Angular Velocity -->
        <div ng-show="metric && !isFetchingData" class="col-xs-12 col-md-7 col-lg-9">
            <div
                data-theme-flot-chart
                data-data="flotData"
                data-options="flotOptions"
                data-plot-hover="flotPlotHover"
                data-threshold="thresholdValue"
                data-threshold-label="'Return To Play'"
                style="width: 100%; height: 600px;">
            </div>
        </div>

        <!-- Select metric -->
        <div ng-show="!metric && !isFetchingData" class="col-xs-12 col-md-7 col-lg-9 text-center">
            Select a metric to get started.
            <br>
            <br>

            <div class="col-md-4 col-md-offset-4">
                <selectize
                    ng-model="selectizeMetricModel"
                    class="form-control text-center"
                    config="selectizeMetricConfig"
                    options="selectizeMetricOptions"
                    placeholder="Select a metric.">
                </selectize>
            </div>
        </div>

        <!-- Loading data -->
        <div ng-show="isFetchingData" class="col-xs-12 col-md-7 col-lg-9 text-center">
            <i class="fa fa-spinner fa-spin fa-3x" style="display: block; margin: 100px 0 0"></i>
        </div>
    </div>
</div>
